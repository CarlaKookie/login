(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9953],{9953:(T,s,c)=>{"use strict";c.r(s),c.d(s,{ProfesorPageModule:()=>b});var i=c(177),n=c(4341),e=c(791),o=c(8986),r=c(467),a=c(5933),t=c(3953),u=c(369),h=c(671),y=c(1626);let I=(()=>{var m;class U{constructor(l){this.http=l,this.baseUrl="http://localhost:3000/api"}getAttendance(l,d){const f=new Date(l).toISOString().split("T")[0],w=(new y.Nl).set("date",f).set("section",d);return this.http.get(`${this.baseUrl}/get-attendance`,{params:w})}markAttendance(l){return this.http.post(`${this.baseUrl}/mark-attendance`,l)}}return(m=U).\u0275fac=function(l){return new(l||m)(t.KVO(y.Qq))},m.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),U})();function C(m,U){if(1&m){const g=t.RV6();t.j41(0,"ion-item")(1,"ion-label"),t.EFF(2),t.k0s(),t.j41(3,"ion-button",11),t.bIt("click",function(){const d=t.eBV(g).$implicit,f=t.XpG();return t.Njj(f.generateQRCode(d))}),t.EFF(4,"Generar QR"),t.k0s()()}if(2&m){const g=U.$implicit;t.R7$(2),t.Lme("",g.subject,"-",g.name,"")}}function p(m,U){if(1&m&&(t.j41(0,"ion-select-option",12),t.EFF(1),t.k0s()),2&m){const g=U.$implicit;t.Y8G("value",g.name),t.R7$(),t.Lme(" ",g.name," - ",g.subject," ")}}function A(m,U){if(1&m&&(t.j41(0,"ion-item")(1,"ion-label")(2,"h2"),t.EFF(3),t.k0s(),t.j41(4,"p"),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"p"),t.EFF(8),t.k0s(),t.j41(9,"p"),t.EFF(10),t.k0s()()()),2&m){const g=U.$implicit;t.R7$(3),t.SpI("Estudiante: ",g.user,""),t.R7$(2),t.SpI("Fecha: ",t.i5U(6,4,g.date,"yyyy-MM-dd"),""),t.R7$(3),t.SpI("Secci\xf3n: ",g.section,""),t.R7$(2),t.SpI("Estado de Asistencia: ",g.status,"")}}function F(m,U){if(1&m&&(t.j41(0,"ion-list"),t.DNE(1,A,11,7,"ion-item",3),t.k0s()),2&m){const g=t.XpG();t.R7$(),t.Y8G("ngForOf",g.attendanceRecords)}}function L(m,U){1&m&&(t.j41(0,"ion-list")(1,"ion-item")(2,"ion-label")(3,"h2"),t.EFF(4,"No se encontraron registros de asistencia"),t.k0s()()()())}const N=[{path:"",component:(()=>{var m;class U{constructor(l,d,f,w){this.storage=l,this.router=d,this.authService=f,this.apiService=w,this.qrCodes=[],this.selectedSection="",this.selectedSubject="",this.selectedDate="",this.nombreUsuario="",this.correoUsuario="",this.date="",this.section="",this.attendanceRecords=[],this.selectedQRCode=null,this.qrCodeUrl="",this.sections=[{id:"A",name:"006D",subject:"Programaci\xf3n de aplicaciones m\xf3viles"},{id:"B",name:"007D",subject:"Programaci\xf3n de base de datos"},{id:"C",name:"004D",subject:"Programaci\xf3n de base de datos"},{id:"D",name:"002D",subject:"Programaci\xf3n de aplicaciones m\xf3viles"}]}ionViewWillEnter(){var l=this;return(0,r.A)(function*(){const d=yield l.storage.get("nombre"),f=yield l.storage.get("correo");l.nombreUsuario=d||"Usuario",l.correoUsuario=f||"Correo",l.selectedSection="",l.selectedSubject="",l.qrCodeUrl=""})()}logout(){var l=this;return(0,r.A)(function*(){l.canDeactivate({fromLogout:!0})&&(l.authService.logout(),yield l.storage.remove("nombre"),yield l.storage.remove("correo"),l.router.navigate(["/home"]))})()}canDeactivate(l){var d;const f=this.router.getCurrentNavigation();return!(!(null==f||null===(d=f.extras.state)||void 0===d?void 0:d.fromEdit)&&(null==l?void 0:l.fromLogout))||confirm("\xbfEst\xe1s seguro que deseas cerrar sesi\xf3n?")}generateQRCode(l){var d=this;return(0,r.A)(function*(){const f={section:l.name,subject:l.subject,sessionId:(new Date).toISOString()};try{const w=yield a.dY(JSON.stringify(f));d.qrCodes.some(P=>P.section===l.name)||d.qrCodes.push({section:l.name,url:w}),d.selectedQRCode=w}catch(w){console.error("Error al generar el c\xf3digo QR:",w)}})()}generateSessionId(){return Math.random().toString(36).substring(2,15)}ngOnInit(){var l=this;return(0,r.A)(function*(){var d;yield l.storage.create(),l.obtenerNombre();const f=l.router.getCurrentNavigation();l.nombreUsuario=null!=f&&null!==(d=f.extras)&&void 0!==d&&d.state?f.extras.state.nombre_usuario||"profesor":l.nombreUsuario||"profesor"})()}obtenerNombre(){var l=this;return(0,r.A)(function*(){l.nombreUsuario=yield l.storage.get("nombre"),console.log("Nombre almacenado:",l.nombreUsuario)})()}consultAttendance(){this.date&&this.section?this.apiService.getAttendance(this.date,this.section).subscribe(l=>{this.attendanceRecords=l,console.log("Asistencia:",l)},l=>{console.error("Error al consultar la asistencia:",l),alert("Hubo un error al consultar los datos.")}):alert("Debe proporcionar una fecha y secci\xf3n v\xe1lidas.")}}return(m=U).\u0275fac=function(l){return new(l||m)(t.rXU(u.w),t.rXU(o.Ix),t.rXU(h.u),t.rXU(I))},m.\u0275cmp=t.VBU({type:m,selectors:[["app-profesor"]],decls:33,vars:13,consts:[[1,"ion-padding"],[1,"background-container"],["alt","C\xf3digo QR",3,"src"],[4,"ngFor","ngForOf"],["position","floating"],["type","date",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["expand","full",3,"click"],[4,"ngIf"],["expand","full","color","danger",3,"click"],[3,"click"],[3,"value"]],template:function(l,d){1&l&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Generador de QR - Profesor"),t.k0s()()(),t.j41(4,"ion-content",0)(5,"div",1)(6,"h2"),t.EFF(7),t.k0s(),t.j41(8,"p"),t.EFF(9),t.k0s(),t.j41(10,"div"),t.nrm(11,"img",2),t.k0s(),t.j41(12,"div")(13,"ion-card")(14,"h2"),t.EFF(15,"Generar QR para Secciones"),t.k0s(),t.j41(16,"ion-list"),t.DNE(17,C,5,2,"ion-item",3),t.k0s()()(),t.j41(18,"ion-item")(19,"ion-label",4),t.EFF(20,"Fecha"),t.k0s(),t.j41(21,"ion-input",5),t.mxI("ngModelChange",function(w){return t.DH7(d.date,w)||(d.date=w),w}),t.k0s()(),t.j41(22,"ion-item")(23,"ion-label",4),t.EFF(24,"Secci\xf3n"),t.k0s(),t.j41(25,"ion-select",6),t.mxI("ngModelChange",function(w){return t.DH7(d.section,w)||(d.section=w),w}),t.DNE(26,p,2,3,"ion-select-option",7),t.k0s()(),t.j41(27,"ion-button",8),t.bIt("click",function(){return d.consultAttendance()}),t.EFF(28,"Consultar Asistencia"),t.k0s(),t.DNE(29,F,2,1,"ion-list",9)(30,L,5,0,"ion-list",9),t.j41(31,"ion-button",10),t.bIt("click",function(){return d.logout()}),t.EFF(32,"Cerrar Sesi\xf3n"),t.k0s()()()),2&l&&(t.R7$(7),t.SpI("Bienvenido, ",d.nombreUsuario,""),t.R7$(2),t.SpI("Correo: ",d.correoUsuario,""),t.R7$(2),t.xc7("width",d.selectedQRCode?300:null,"px")("height",d.selectedQRCode?300:null,"px"),t.Y8G("src",d.selectedQRCode||"assets/Images/Negro.jpg",t.B4B),t.R7$(6),t.Y8G("ngForOf",d.sections),t.R7$(4),t.R50("ngModel",d.date),t.R7$(4),t.R50("ngModel",d.section),t.R7$(),t.Y8G("ngForOf",d.sections),t.R7$(3),t.Y8G("ngIf",d.attendanceRecords.length>0),t.R7$(),t.Y8G("ngIf",0===d.attendanceRecords.length))},dependencies:[i.Sq,i.bT,n.BC,n.vS,e.Jm,e.b_,e.W9,e.eU,e.$w,e.uz,e.he,e.nf,e.Nm,e.Ip,e.BC,e.ai,e.Je,e.Gw,i.vh],styles:['@charset "UTF-8";background-container[_ngcontent-%COMP%]{background-color:#000;min-height:100%;color:#fff;padding:20px}h2[_ngcontent-%COMP%]{text-align:center;color:#fff}p[_ngcontent-%COMP%]{text-align:center;color:#ccc}.qr-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}img[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;padding:10px;background:#fff;border-radius:10px;box-shadow:0 2px 4px #0000001a}ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--color: #fff}ion-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--min-width: 200px;--font-size: 14px;--border-radius: 5px;--background: transparent}@media (max-width: 768px){ion-item[_ngcontent-%COMP%]{font-size:14px}ion-label[_ngcontent-%COMP%]{font-size:12px}h2[_ngcontent-%COMP%]{font-size:18px}ion-button[_ngcontent-%COMP%]{font-size:14px;padding:10px}.qr-container[_ngcontent-%COMP%]{margin-top:10px}ion-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{--font-size: 12px;--min-width: 150px}}']}),U})()}];let M=(()=>{var m;class U{}return(m=U).\u0275fac=function(l){return new(l||m)},m.\u0275mod=t.$C({type:m}),m.\u0275inj=t.G2t({imports:[o.iI.forChild(N),o.iI]}),U})(),b=(()=>{var m;class U{}return(m=U).\u0275fac=function(l){return new(l||m)},m.\u0275mod=t.$C({type:m}),m.\u0275inj=t.G2t({imports:[i.MD,n.YN,e.bv,M]}),U})()},2624:T=>{"use strict";var s={single_source_shortest_paths:function(c,i,n){var e={},o={};o[i]=0;var a,t,u,h,y,C,r=s.PriorityQueue.make();for(r.push(i,0);!r.empty();)for(u in h=(a=r.pop()).cost,y=c[t=a.value]||{})y.hasOwnProperty(u)&&(C=h+y[u],(typeof o[u]>"u"||o[u]>C)&&(o[u]=C,r.push(u,C),e[u]=t));if(typeof n<"u"&&typeof o[n]>"u"){var F=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(F)}return e},extract_shortest_path_from_predecessor_list:function(c,i){for(var n=[],e=i;e;)n.push(e),e=c[e];return n.reverse(),n},find_path:function(c,i,n){var e=s.single_source_shortest_paths(c,i,n);return s.extract_shortest_path_from_predecessor_list(e,n)},PriorityQueue:{make:function(c){var e,i=s.PriorityQueue,n={};for(e in c=c||{},i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n.queue=[],n.sorter=c.sorter||i.default_sorter,n},default_sorter:function(c,i){return c.cost-i.cost},push:function(c,i){this.queue.push({value:c,cost:i}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};T.exports=s},5933:(T,s,c)=>{const n=c(2836),e=c(9460),o=c(4649),r=c(6511);function a(t,u,h,y,I){const C=[].slice.call(arguments,1),p=C.length,A="function"==typeof C[p-1];if(!A&&!n())throw new Error("Callback required as last argument");if(!A){if(p<1)throw new Error("Too few arguments provided");return 1===p?(h=u,u=y=void 0):2===p&&!u.getContext&&(y=h,h=u,u=void 0),new Promise(function(F,L){try{const B=e.create(h,y);F(t(B,u,y))}catch(B){L(B)}})}if(p<2)throw new Error("Too few arguments provided");2===p?(I=h,h=u,u=y=void 0):3===p&&(u.getContext&&typeof I>"u"?(I=y,y=void 0):(I=y,y=h,h=u,u=void 0));try{const F=e.create(h,y);I(null,t(F,u,y))}catch(F){I(F)}}a.bind(null,o.render),s.dY=a.bind(null,o.renderToDataURL),a.bind(null,function(t,u,h){return r.render(t,h)})},2836:T=>{T.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(T,s,c)=>{const i=c(9089).getSymbolSize;s.getRowColCoords=function(e){if(1===e)return[];const o=Math.floor(e/7)+2,r=i(e),a=145===r?26:2*Math.ceil((r-13)/(2*o-2)),t=[r-7];for(let u=1;u<o-1;u++)t[u]=t[u-1]-a;return t.push(6),t.reverse()},s.getPositions=function(e){const o=[],r=s.getRowColCoords(e),a=r.length;for(let t=0;t<a;t++)for(let u=0;u<a;u++)0===t&&0===u||0===t&&u===a-1||t===a-1&&0===u||o.push([r[t],r[u]]);return o}},1018:(T,s,c)=>{const i=c(1677),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(o){this.mode=i.ALPHANUMERIC,this.data=o}e.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let a;for(a=0;a+2<=this.data.length;a+=2){let t=45*n.indexOf(this.data[a]);t+=n.indexOf(this.data[a+1]),r.put(t,11)}this.data.length%2&&r.put(n.indexOf(this.data[a]),6)},T.exports=e},4662:T=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(c){const i=Math.floor(c/8);return 1==(this.buffer[i]>>>7-c%8&1)},put:function(c,i){for(let n=0;n<i;n++)this.putBit(1==(c>>>i-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(c){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),c&&(this.buffer[i]|=128>>>this.length%8),this.length++}},T.exports=s},5941:T=>{function s(c){if(!c||c<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=c,this.data=new Uint8Array(c*c),this.reservedBit=new Uint8Array(c*c)}s.prototype.set=function(c,i,n,e){const o=c*this.size+i;this.data[o]=n,e&&(this.reservedBit[o]=!0)},s.prototype.get=function(c,i){return this.data[c*this.size+i]},s.prototype.xor=function(c,i,n){this.data[c*this.size+i]^=n},s.prototype.isReserved=function(c,i){return this.reservedBit[c*this.size+i]},T.exports=s},4969:(T,s,c)=>{const i=c(1677);function n(e){this.mode=i.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}n.getBitsLength=function(o){return 8*o},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(let o=0,r=this.data.length;o<r;o++)e.put(this.data[o],8)},T.exports=n},3677:(T,s,c)=>{const i=c(7424),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(r,a){switch(a){case i.L:return n[4*(r-1)+0];case i.M:return n[4*(r-1)+1];case i.Q:return n[4*(r-1)+2];case i.H:return n[4*(r-1)+3];default:return}},s.getTotalCodewordsCount=function(r,a){switch(a){case i.L:return e[4*(r-1)+0];case i.M:return e[4*(r-1)+1];case i.Q:return e[4*(r-1)+2];case i.H:return e[4*(r-1)+3];default:return}}},7424:(T,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2},s.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},s.from=function(n,e){if(s.isValid(n))return n;try{return function c(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+i)}}(n)}catch{return e}}},6269:(T,s,c)=>{const i=c(9089).getSymbolSize;s.getPositions=function(o){const r=i(o);return[[0,0],[r-7,0],[0,r-7]]}},6254:(T,s,c)=>{const i=c(9089),o=i.getBCHDigit(1335);s.getEncodedBits=function(a,t){const u=a.bit<<3|t;let h=u<<10;for(;i.getBCHDigit(h)-o>=0;)h^=1335<<i.getBCHDigit(h)-o;return 21522^(u<<10|h)}},6686:(T,s)=>{const c=new Uint8Array(512),i=new Uint8Array(256);(function(){let e=1;for(let o=0;o<255;o++)c[o]=e,i[e]=o,e<<=1,256&e&&(e^=285);for(let o=255;o<512;o++)c[o]=c[o-255]})(),s.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},s.exp=function(e){return c[e]},s.mul=function(e,o){return 0===e||0===o?0:c[i[e]+i[o]]}},3264:(T,s,c)=>{const i=c(1677),n=c(9089);function e(o){this.mode=i.KANJI,this.data=o}e.getBitsLength=function(r){return 13*r},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(o){let r;for(r=0;r<this.data.length;r++){let a=n.toSJIS(this.data[r]);if(a>=33088&&a<=40956)a-=33088;else{if(!(a>=57408&&a<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");a-=49472}a=192*(a>>>8&255)+(255&a),o.put(a,13)}},T.exports=e},3361:(T,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(n,e,o){switch(n){case s.Patterns.PATTERN000:return(e+o)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return o%3==0;case s.Patterns.PATTERN011:return(e+o)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(o/3))%2==0;case s.Patterns.PATTERN101:return e*o%2+e*o%3==0;case s.Patterns.PATTERN110:return(e*o%2+e*o%3)%2==0;case s.Patterns.PATTERN111:return(e*o%3+(e+o)%2)%2==0;default:throw new Error("bad maskPattern:"+n)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){const o=e.size;let r=0,a=0,t=0,u=null,h=null;for(let y=0;y<o;y++){a=t=0,u=h=null;for(let I=0;I<o;I++){let C=e.get(y,I);C===u?a++:(a>=5&&(r+=a-5+3),u=C,a=1),C=e.get(I,y),C===h?t++:(t>=5&&(r+=t-5+3),h=C,t=1)}a>=5&&(r+=a-5+3),t>=5&&(r+=t-5+3)}return r},s.getPenaltyN2=function(e){const o=e.size;let r=0;for(let a=0;a<o-1;a++)for(let t=0;t<o-1;t++){const u=e.get(a,t)+e.get(a,t+1)+e.get(a+1,t)+e.get(a+1,t+1);(4===u||0===u)&&r++}return 3*r},s.getPenaltyN3=function(e){const o=e.size;let r=0,a=0,t=0;for(let u=0;u<o;u++){a=t=0;for(let h=0;h<o;h++)a=a<<1&2047|e.get(u,h),h>=10&&(1488===a||93===a)&&r++,t=t<<1&2047|e.get(h,u),h>=10&&(1488===t||93===t)&&r++}return 40*r},s.getPenaltyN4=function(e){let o=0;const r=e.data.length;for(let t=0;t<r;t++)o+=e.data[t];return 10*Math.abs(Math.ceil(100*o/r/5)-10)},s.applyMask=function(e,o){const r=o.size;for(let a=0;a<r;a++)for(let t=0;t<r;t++)o.isReserved(t,a)||o.xor(t,a,i(e,t,a))},s.getBestMask=function(e,o){const r=Object.keys(s.Patterns).length;let a=0,t=1/0;for(let u=0;u<r;u++){o(u),s.applyMask(u,e);const h=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(u,e),h<t&&(t=h,a=u)}return a}},1677:(T,s,c)=>{const i=c(377),n=c(9359);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(r,a){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!i.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?r.ccBits[0]:a<27?r.ccBits[1]:r.ccBits[2]},s.getBestModeForData=function(r){return n.testNumeric(r)?s.NUMERIC:n.testAlphanumeric(r)?s.ALPHANUMERIC:n.testKanji(r)?s.KANJI:s.BYTE},s.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},s.isValid=function(r){return r&&r.bit&&r.ccBits},s.from=function(r,a){if(s.isValid(r))return r;try{return function e(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+o)}}(r)}catch{return a}}},6628:(T,s,c)=>{const i=c(1677);function n(e){this.mode=i.NUMERIC,this.data=e.toString()}n.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let r,a,t;for(r=0;r+3<=this.data.length;r+=3)a=this.data.substr(r,3),t=parseInt(a,10),o.put(t,10);const u=this.data.length-r;u>0&&(a=this.data.substr(r),t=parseInt(a,10),o.put(t,3*u+1))},T.exports=n},1744:(T,s,c)=>{const i=c(6686);s.mul=function(e,o){const r=new Uint8Array(e.length+o.length-1);for(let a=0;a<e.length;a++)for(let t=0;t<o.length;t++)r[a+t]^=i.mul(e[a],o[t]);return r},s.mod=function(e,o){let r=new Uint8Array(e);for(;r.length-o.length>=0;){const a=r[0];for(let u=0;u<o.length;u++)r[u]^=i.mul(o[u],a);let t=0;for(;t<r.length&&0===r[t];)t++;r=r.slice(t)}return r},s.generateECPolynomial=function(e){let o=new Uint8Array([1]);for(let r=0;r<e;r++)o=s.mul(o,new Uint8Array([1,i.exp(r)]));return o}},9460:(T,s,c)=>{const i=c(9089),n=c(7424),e=c(4662),o=c(5941),r=c(6214),a=c(6269),t=c(3361),u=c(3677),h=c(6289),y=c(1252),I=c(6254),C=c(1677),p=c(2868);function N(g,l,d){const f=g.size,w=I.getEncodedBits(l,d);let P,E;for(P=0;P<15;P++)E=1==(w>>P&1),g.set(P<6?P:P<8?P+1:f-15+P,8,E,!0),g.set(8,P<8?f-P-1:P<9?15-P-1+1:15-P-1,E,!0);g.set(f-8,8,1,!0)}function U(g,l,d,f){let w;if(Array.isArray(g))w=p.fromArray(g);else{if("string"!=typeof g)throw new Error("Invalid data");{let _=l;if(!_){const j=p.rawSplit(g);_=y.getBestVersionForData(j,d)}w=p.fromString(g,_||40)}}const P=y.getBestVersionForData(w,d);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(l){if(l<P)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+P+".\n")}else l=P;const E=function b(g,l,d){const f=new e;d.forEach(function(R){f.put(R.mode.bit,4),f.put(R.getLength(),C.getCharCountIndicator(R.mode,g)),R.write(f)});const E=8*(i.getSymbolTotalCodewords(g)-u.getTotalCodewordsCount(g,l));for(f.getLengthInBits()+4<=E&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(0);const S=(E-f.getLengthInBits())/8;for(let R=0;R<S;R++)f.put(R%2?17:236,8);return function m(g,l,d){const f=i.getSymbolTotalCodewords(l),P=f-u.getTotalCodewordsCount(l,d),E=u.getBlocksCount(l,d),R=E-f%E,_=Math.floor(f/E),j=Math.floor(P/E),K=j+1,$=_-j,Q=new h($);let z=0;const O=new Array(E),G=new Array(E);let V=0;const X=new Uint8Array(g.buffer);for(let v=0;v<E;v++){const Y=v<R?j:K;O[v]=X.slice(z,z+Y),G[v]=Q.encode(O[v]),z+=Y,V=Math.max(V,Y)}const H=new Uint8Array(f);let D,k,J=0;for(D=0;D<V;D++)for(k=0;k<E;k++)D<O[k].length&&(H[J++]=O[k][D]);for(D=0;D<$;D++)for(k=0;k<E;k++)H[J++]=G[k][D];return H}(f,g,l)}(l,d,w),S=i.getSymbolSize(l),R=new o(S);return function A(g,l){const d=g.size,f=a.getPositions(l);for(let w=0;w<f.length;w++){const P=f[w][0],E=f[w][1];for(let S=-1;S<=7;S++)if(!(P+S<=-1||d<=P+S))for(let R=-1;R<=7;R++)E+R<=-1||d<=E+R||g.set(P+S,E+R,S>=0&&S<=6&&(0===R||6===R)||R>=0&&R<=6&&(0===S||6===S)||S>=2&&S<=4&&R>=2&&R<=4,!0)}}(R,l),function F(g){const l=g.size;for(let d=8;d<l-8;d++){const f=d%2==0;g.set(d,6,f,!0),g.set(6,d,f,!0)}}(R),function L(g,l){const d=r.getPositions(l);for(let f=0;f<d.length;f++){const w=d[f][0],P=d[f][1];for(let E=-2;E<=2;E++)for(let S=-2;S<=2;S++)g.set(w+E,P+S,-2===E||2===E||-2===S||2===S||0===E&&0===S,!0)}}(R,l),N(R,d,0),l>=7&&function B(g,l){const d=g.size,f=y.getEncodedBits(l);let w,P,E;for(let S=0;S<18;S++)w=Math.floor(S/3),P=S%3+d-8-3,E=1==(f>>S&1),g.set(w,P,E,!0),g.set(P,w,E,!0)}(R,l),function M(g,l){const d=g.size;let f=-1,w=d-1,P=7,E=0;for(let S=d-1;S>0;S-=2)for(6===S&&S--;;){for(let R=0;R<2;R++)if(!g.isReserved(w,S-R)){let _=!1;E<l.length&&(_=1==(l[E]>>>P&1)),g.set(w,S-R,_),P--,-1===P&&(E++,P=7)}if(w+=f,w<0||d<=w){w-=f,f=-f;break}}}(R,E),isNaN(f)&&(f=t.getBestMask(R,N.bind(null,R,d))),t.applyMask(f,R),N(R,d,f),{modules:R,version:l,errorCorrectionLevel:d,maskPattern:f,segments:w}}s.create=function(l,d){if(typeof l>"u"||""===l)throw new Error("No input text");let w,P,f=n.M;return typeof d<"u"&&(f=n.from(d.errorCorrectionLevel,n.M),w=y.from(d.version),P=t.from(d.maskPattern),d.toSJISFunc&&i.setToSJISFunction(d.toSJISFunc)),U(l,w,f,P)}},6289:(T,s,c)=>{const i=c(1744);function n(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(o){this.degree=o,this.genPoly=i.generateECPolynomial(this.degree)},n.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(o.length+this.degree);r.set(o);const a=i.mod(r,this.genPoly),t=this.degree-a.length;if(t>0){const u=new Uint8Array(this.degree);return u.set(a,t),u}return a},T.exports=n},9359:(T,s)=>{const c="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";s.KANJI=new RegExp(n,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(e,"g"),s.NUMERIC=new RegExp(c,"g"),s.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+n+"$"),r=new RegExp("^"+c+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(u){return o.test(u)},s.testNumeric=function(u){return r.test(u)},s.testAlphanumeric=function(u){return a.test(u)}},2868:(T,s,c)=>{const i=c(1677),n=c(6628),e=c(1018),o=c(4969),r=c(3264),a=c(9359),t=c(9089),u=c(2624);function h(B){return unescape(encodeURIComponent(B)).length}function y(B,N,M){const b=[];let m;for(;null!==(m=B.exec(M));)b.push({data:m[0],index:m.index,mode:N,length:m[0].length});return b}function I(B){const N=y(a.NUMERIC,i.NUMERIC,B),M=y(a.ALPHANUMERIC,i.ALPHANUMERIC,B);let b,m;return t.isKanjiModeEnabled()?(b=y(a.BYTE,i.BYTE,B),m=y(a.KANJI,i.KANJI,B)):(b=y(a.BYTE_KANJI,i.BYTE,B),m=[]),N.concat(M,b,m).sort(function(g,l){return g.index-l.index}).map(function(g){return{data:g.data,mode:g.mode,length:g.length}})}function C(B,N){switch(N){case i.NUMERIC:return n.getBitsLength(B);case i.ALPHANUMERIC:return e.getBitsLength(B);case i.KANJI:return r.getBitsLength(B);case i.BYTE:return o.getBitsLength(B)}}function L(B,N){let M;const b=i.getBestModeForData(B);if(M=i.from(N,b),M!==i.BYTE&&M.bit<b.bit)throw new Error('"'+B+'" cannot be encoded with mode '+i.toString(M)+".\n Suggested mode is: "+i.toString(b));switch(M===i.KANJI&&!t.isKanjiModeEnabled()&&(M=i.BYTE),M){case i.NUMERIC:return new n(B);case i.ALPHANUMERIC:return new e(B);case i.KANJI:return new r(B);case i.BYTE:return new o(B)}}s.fromArray=function(N){return N.reduce(function(M,b){return"string"==typeof b?M.push(L(b,null)):b.data&&M.push(L(b.data,b.mode)),M},[])},s.fromString=function(N,M){const m=function A(B){const N=[];for(let M=0;M<B.length;M++){const b=B[M];switch(b.mode){case i.NUMERIC:N.push([b,{data:b.data,mode:i.ALPHANUMERIC,length:b.length},{data:b.data,mode:i.BYTE,length:b.length}]);break;case i.ALPHANUMERIC:N.push([b,{data:b.data,mode:i.BYTE,length:b.length}]);break;case i.KANJI:N.push([b,{data:b.data,mode:i.BYTE,length:h(b.data)}]);break;case i.BYTE:N.push([{data:b.data,mode:i.BYTE,length:h(b.data)}])}}return N}(I(N,t.isKanjiModeEnabled())),U=function F(B,N){const M={},b={start:{}};let m=["start"];for(let U=0;U<B.length;U++){const g=B[U],l=[];for(let d=0;d<g.length;d++){const f=g[d],w=""+U+d;l.push(w),M[w]={node:f,lastCount:0},b[w]={};for(let P=0;P<m.length;P++){const E=m[P];M[E]&&M[E].node.mode===f.mode?(b[E][w]=C(M[E].lastCount+f.length,f.mode)-C(M[E].lastCount,f.mode),M[E].lastCount+=f.length):(M[E]&&(M[E].lastCount=f.length),b[E][w]=C(f.length,f.mode)+4+i.getCharCountIndicator(f.mode,N))}}m=l}for(let U=0;U<m.length;U++)b[m[U]].end=0;return{map:b,table:M}}(m,M),g=u.find_path(U.map,"start","end"),l=[];for(let d=1;d<g.length-1;d++)l.push(U.table[g[d]].node);return s.fromArray(function p(B){return B.reduce(function(N,M){const b=N.length-1>=0?N[N.length-1]:null;return b&&b.mode===M.mode?(N[N.length-1].data+=M.data,N):(N.push(M),N)},[])}(l))},s.rawSplit=function(N){return s.fromArray(I(N,t.isKanjiModeEnabled()))}},9089:(T,s)=>{let c;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},s.getSymbolTotalCodewords=function(e){return i[e]},s.getBCHDigit=function(n){let e=0;for(;0!==n;)e++,n>>>=1;return e},s.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');c=e},s.isKanjiModeEnabled=function(){return typeof c<"u"},s.toSJIS=function(e){return c(e)}},377:(T,s)=>{s.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}},1252:(T,s,c)=>{const i=c(9089),n=c(3677),e=c(7424),o=c(1677),r=c(377),t=i.getBCHDigit(7973);function h(C,p){return o.getCharCountIndicator(C,p)+4}function y(C,p){let A=0;return C.forEach(function(F){const L=h(F.mode,p);A+=L+F.getBitsLength()}),A}s.from=function(p,A){return r.isValid(p)?parseInt(p,10):A},s.getCapacity=function(p,A,F){if(!r.isValid(p))throw new Error("Invalid QR Code version");typeof F>"u"&&(F=o.BYTE);const N=8*(i.getSymbolTotalCodewords(p)-n.getTotalCodewordsCount(p,A));if(F===o.MIXED)return N;const M=N-h(F,p);switch(F){case o.NUMERIC:return Math.floor(M/10*3);case o.ALPHANUMERIC:return Math.floor(M/11*2);case o.KANJI:return Math.floor(M/13);default:return Math.floor(M/8)}},s.getBestVersionForData=function(p,A){let F;const L=e.from(A,e.M);if(Array.isArray(p)){if(p.length>1)return function I(C,p){for(let A=1;A<=40;A++)if(y(C,A)<=s.getCapacity(A,p,o.MIXED))return A}(p,L);if(0===p.length)return 1;F=p[0]}else F=p;return function u(C,p,A){for(let F=1;F<=40;F++)if(p<=s.getCapacity(F,A,C))return F}(F.mode,F.getLength(),L)},s.getEncodedBits=function(p){if(!r.isValid(p)||p<7)throw new Error("Invalid QR Code version");let A=p<<12;for(;i.getBCHDigit(A)-t>=0;)A^=7973<<i.getBCHDigit(A)-t;return p<<12|A}},4649:(T,s,c)=>{const i=c(7077);s.render=function(r,a,t){let u=t,h=a;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),a||(h=function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),u=i.getOptions(u);const y=i.getImageWidth(r.modules.size,u),I=h.getContext("2d"),C=I.createImageData(y,y);return i.qrToImageData(C.data,r,u),function n(o,r,a){o.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=a,r.width=a,r.style.height=a+"px",r.style.width=a+"px"}(I,h,y),I.putImageData(C,0,0),h},s.renderToDataURL=function(r,a,t){let u=t;return typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),u||(u={}),s.render(r,a,u).toDataURL(u.type||"image/png",(u.rendererOpts||{}).quality)}},6511:(T,s,c)=>{const i=c(7077);function n(r,a){const t=r.a/255,u=a+'="'+r.hex+'"';return t<1?u+" "+a+'-opacity="'+t.toFixed(2).slice(1)+'"':u}function e(r,a,t){let u=r+a;return typeof t<"u"&&(u+=" "+t),u}s.render=function(a,t,u){const h=i.getOptions(t),y=a.modules.size,I=a.modules.data,C=y+2*h.margin,p=h.color.light.a?"<path "+n(h.color.light,"fill")+' d="M0 0h'+C+"v"+C+'H0z"/>':"",A="<path "+n(h.color.dark,"stroke")+' d="'+function o(r,a,t){let u="",h=0,y=!1,I=0;for(let C=0;C<r.length;C++){const p=Math.floor(C%a),A=Math.floor(C/a);!p&&!y&&(y=!0),r[C]?(I++,C>0&&p>0&&r[C-1]||(u+=y?e("M",p+t,.5+A+t):e("m",h,0),h=0,y=!1),p+1<a&&r[C+1]||(u+=e("h",I),I=0)):h++}return u}(I,y,h.margin)+'"/>',B='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+'viewBox="0 0 '+C+" "+C+'" shape-rendering="crispEdges">'+p+A+"</svg>\n";return"function"==typeof u&&u(null,B),B}},7077:(T,s)=>{function c(i){if("number"==typeof i&&(i=i.toString()),"string"!=typeof i)throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||5===n.length||n.length>8)throw new Error("Invalid hex color: "+i);(3===n.length||4===n.length)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),6===n.length&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+n.slice(0,6).join("")}}s.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=n.width&&n.width>=21?n.width:void 0;return{width:o,scale:o?4:n.scale||4,margin:typeof n.margin>"u"||null===n.margin||n.margin<0?4:n.margin,color:{dark:c(n.color.dark||"#000000ff"),light:c(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},s.getScale=function(n,e){return e.width&&e.width>=n+2*e.margin?e.width/(n+2*e.margin):e.scale},s.getImageWidth=function(n,e){const o=s.getScale(n,e);return Math.floor((n+2*e.margin)*o)},s.qrToImageData=function(n,e,o){const r=e.modules.size,a=e.modules.data,t=s.getScale(r,o),u=Math.floor((r+2*o.margin)*t),h=o.margin*t,y=[o.color.light,o.color.dark];for(let I=0;I<u;I++)for(let C=0;C<u;C++){let p=4*(I*u+C),A=o.color.light;I>=h&&C>=h&&I<u-h&&C<u-h&&(A=y[a[Math.floor((I-h)/t)*r+Math.floor((C-h)/t)]?1:0]),n[p++]=A.r,n[p++]=A.g,n[p++]=A.b,n[p]=A.a}}}}]);